[custom]

;================================================
; æ ¸å¿ƒï¼šé’‰é’‰å®šå‘å…¨å±€å…æµè‡³å°Šç‰ˆ (Host: tms.dingtalk.com)
; çŠ¶æ€ï¼šæŒ‰éœ€å®šåˆ¶ç‰ˆ (æ–°å¢éŸ©/ç¾æµ‹é€Ÿã€æ‰‹åŠ¨2å…¨è¦†ç›–ã€FCMç‹¬ç«‹)
; é€»è¾‘ï¼šæ§åˆ¶ -> æ€»é—¸ -> åª’ä½“ -> ç³»ç»Ÿ -> èµ„æº
;================================================

; 1. å†…æ ¸é«˜çº§å—…æ¢
;------------------------------------------------
sniffer:
  enable: true
  sniff:
    TLS: {ports: [443, 8443]}
    HTTP: {ports: [80, 8080-8888], override-destination: true}
  force-domain: ["+"]

; 2. åè®®å°é” (é”æ­» QUIC)
;------------------------------------------------
rules:
  - AND,((DEST-PORT,443),(PROTOCOL,UDP)),REJECT
  - AND,((DEST-PORT,4430),(PROTOCOL,UDP)),REJECT

; 3. DNS é˜¿é‡Œé—­ç¯
;------------------------------------------------
dns_server=223.5.5.5, 223.6.6.6
dns_fallback_server=https://dns.google/dns-query, https://1.1.1.1/dns-query
dns_fake_ip=true
dns_enhanced_mode=fake-ip
dns_nameserver_policy={
  "geosite:cn,alibaba,dingtalk,xiaomi": ["223.5.5.5", "223.6.6.6"],
  "geosite:gfw,geolocation-!cn": ["proxy"]
}

; 4. è§„åˆ™é›†å¼•ç”¨
;------------------------------------------------
ruleset=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
ruleset=ğŸƒ åº”ç”¨å‡€åŒ–,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
ruleset=ğŸš« å°ç±³ç³»ç»Ÿé™åˆ¶,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Xiaomi.list
ruleset=ğŸ“¢ è°·æ­ŒFCM,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleFCM/GoogleFCM.yaml
ruleset=ğŸ§š AIåŠ©æ‰‹,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml
ruleset=ğŸ“¹ YouTube,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
ruleset=ğŸ¥ Netflix,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml
ruleset=ğŸ¥ DisneyPlus,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml
ruleset=ğŸ¶ TikTok,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml
ruleset=ğŸ“º Bilibili,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml
ruleset=ğŸ“º å·´å“ˆå§†ç‰¹,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.yaml
ruleset=ğŸ¬ å›½é™…å½±éŸ³,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.yaml
ruleset=ğŸ“² Telegram,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
ruleset=ğŸ¤– Discord,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Discord/Discord.yaml
ruleset=ğŸµ Spotify,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml
ruleset=â˜ï¸ ç½‘æ˜“äº‘éŸ³ä¹,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/NetEaseMusic/NetEaseMusic.yaml
ruleset=ğŸ® æ¸¸æˆå¹³å°,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.yaml
ruleset=ğŸ è‹¹æœæœåŠ¡,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml
ruleset=â“‚ï¸ å¾®è½¯æœåŠ¡,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
ruleset=ğŸ“¢ è°·æ­ŒæœåŠ¡,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
ruleset=ğŸš© IPå½’å±åœ°,clash-classic:https://raw.githubusercontent.com/lwd-temp/anti-ip-attribution/main/generated/rule-provider.yaml
ruleset=ğŸš€ å›½å¤–æµé‡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
ruleset=ğŸ¯ å›½å†…æµé‡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
ruleset=ğŸ¯ å›½å†…æµé‡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaIp.list
ruleset=ğŸŸ æ¼ç½‘ä¹‹é±¼,[]FINAL

; 5. ç­–ç•¥ç»„æ„å»º
;------------------------------------------------

; ã€ç¬¬ä¸€å±‚ï¼šæœ€é«˜æƒé™æ§åˆ¶ã€‘
custom_proxy_group=ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`select`.*
custom_proxy_group=ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`select`.*

; ã€ç¬¬äºŒå±‚ï¼šæµé‡æ€»é—¸å£ã€‘
custom_proxy_group=ğŸ¯ å›½å†…æµé‡`select`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]DIRECT
; å›½å¤–æµé‡ï¼šåŠ å…¥å›½å¤–å…æµã€ç¾å›½ã€éŸ©å›½è‡ªåŠ¨æµ‹é€Ÿ
custom_proxy_group=ğŸš€ å›½å¤–æµé‡`select`[]ğŸš€ å›½å¤–å…æµ`[]â™»ï¸ è‡ªåŠ¨æµ‹é€Ÿ`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹

; ã€ç¬¬ä¸‰å±‚ï¼šé«˜é¢‘å¨±ä¹åª’ä½“ã€‘
custom_proxy_group=ğŸ“¹ YouTube`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¥ Netflix`select`[]ğŸ¥ å¥ˆé£èŠ‚ç‚¹`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¥ DisneyPlus`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¶ TikTok`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
; Bilibiliï¼šåŠ å…¥æ‰‹åŠ¨2
custom_proxy_group=ğŸ“º Bilibili`select`[]DIRECT`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
custom_proxy_group=ğŸ“º å·´å“ˆå§†ç‰¹`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¬ å›½é™…å½±éŸ³`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ”¯ æ•…éšœåˆ‡æ¢`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸµ Spotify`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
; ç½‘æ˜“äº‘ï¼šåŠ å…¥æ‰‹åŠ¨2
custom_proxy_group=â˜ï¸ ç½‘æ˜“äº‘éŸ³ä¹`select`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]DIRECT

; ã€ç¬¬å››å±‚ï¼šç¤¾äº¤ä¸æ™ºèƒ½åŠ©æ‰‹ã€‘
custom_proxy_group=ğŸ“² Telegram`select`[]ğŸš€ å›½å¤–å…æµ`[]â™»ï¸ è‡ªåŠ¨æµ‹é€Ÿ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¤– Discord`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ§š AIåŠ©æ‰‹`select`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2

; ã€ç¬¬äº”å±‚ï¼šç³»ç»Ÿã€æ¸¸æˆä¸æ¨é€ã€‘
; è°·æ­ŒFCMï¼šç‹¬ç«‹åˆ†ç»„
custom_proxy_group=ğŸ“¢ è°·æ­ŒFCM`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸ”¯ æ•…éšœåˆ‡æ¢
custom_proxy_group=ğŸ“¢ è°·æ­ŒæœåŠ¡`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
; è‹¹æœæœåŠ¡ï¼šåŠ å…¥æ‰‹åŠ¨2
custom_proxy_group=ğŸ è‹¹æœæœåŠ¡`select`[]ğŸš€ å›½å†…å…æµ`[]DIRECT`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
; å¾®è½¯æœåŠ¡ï¼šåŠ å…¥æ‰‹åŠ¨2
custom_proxy_group=â“‚ï¸ å¾®è½¯æœåŠ¡`select`[]ğŸš€ å›½å†…å…æµ`[]DIRECT`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
; æ¸¸æˆå¹³å°ï¼šåŠ å…¥æ‰‹åŠ¨2
custom_proxy_group=ğŸ® æ¸¸æˆå¹³å°`select`[]DIRECT`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
custom_proxy_group=ğŸš« å°ç±³ç³»ç»Ÿé™åˆ¶`select`[]ğŸš€ å›½å†…å…æµ`[]REJECT

; ã€ç¬¬å…­å±‚ï¼šåº•å±‚èµ„æºä¸å·¥å…·ã€‘
; IPå½’å±åœ°ï¼šåŠ å…¥æ‰‹åŠ¨1ã€2
custom_proxy_group=ğŸš© IPå½’å±åœ°`select`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]DIRECT
custom_proxy_group=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª`select`[]REJECT`[]DIRECT`[]ğŸš€ å›½å†…å…æµ
custom_proxy_group=ğŸƒ åº”ç”¨å‡€åŒ–`select`[]REJECT`[]DIRECT`[]ğŸš€ å›½å†…å…æµ
custom_proxy_group=ğŸŸ æ¼ç½‘ä¹‹é±¼`select`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]DIRECT

; ã€åº•å±‚ï¼šè‡ªåŠ¨æµ‹é€Ÿä¸èŠ‚ç‚¹æ± ã€‘
custom_proxy_group=ğŸš€ å›½å†…å…æµ`select`(ä¸­å›½|CN|ç§»åŠ¨|è”é€š|ç”µä¿¡|é’‰é’‰|å…æµ|ML|Ding)
custom_proxy_group=ğŸš€ å›½å¤–å…æµ`select`(é¦™æ¸¯|æ—¥æœ¬|ç¾å›½|æ–°åŠ å¡|å°æ¹¾|HK|JP|US|SG|TW)
custom_proxy_group=ğŸ¥ å¥ˆé£èŠ‚ç‚¹`select`[]ğŸš€ å›½å¤–å…æµ`(æ–°åŠ å¡|å°æ¹¾|é¦™æ¸¯|ç¾å›½|SG|TW|HK|US)
custom_proxy_group=ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`url-test`(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong Kong)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹`url-test`(ğŸ‡¹ğŸ‡¼|å°|TW|Taiwan)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`url-test`(ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|JP|Japan)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`url-test`(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|SG|Singapore)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹`url-test`(ğŸ‡ºğŸ‡¸|ç¾|US|United States)`http://www.gstatic.com/generate_204`600,100,true
; æ–°å¢éŸ©å›½èŠ‚ç‚¹æµ‹é€Ÿå®šä¹‰
custom_proxy_group=ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹`url-test`(ğŸ‡°ğŸ‡·|éŸ©å›½|KR|Korea|South Korea)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=â™»ï¸ è‡ªåŠ¨æµ‹é€Ÿ`url-test`(^(?!.*(æµé‡|æ—¶é—´|å®˜ç½‘|æç¤º)).*)`http://www.gstatic.com/generate_204`600,150,true
custom_proxy_group=ğŸ”¯ æ•…éšœåˆ‡æ¢`fallback`(^(?!.*(æµé‡|æ—¶é—´|å®˜ç½‘|æç¤º)).*)`http://www.gstatic.com/generate_204`600,,true

enable_rule_generator=true
overwrite_original_rules=true