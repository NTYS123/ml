[custom]

;================================================
; æ ¸å¿ƒï¼šé’‰é’‰å®šå‘å…¨å±€å…æµè‡³å°Šç‰ˆ (Host: tms.dingtalk.com)
; çŠ¶æ€ï¼šæ·±åº¦åµŒå¥—ç‰ˆ (å…æµç»„å†…éƒ¨ç»†åŒ–ä¸ºï¼šæ‰‹åŠ¨/è‡ªåŠ¨/åŒºåŸŸ)
; é€»è¾‘ï¼šæ€»é—¸ -> å…æµç›®å½• -> (æ‰‹åŠ¨æ± /åŒºåŸŸæµ‹é€Ÿ) -> èŠ‚ç‚¹
;================================================

; 1. å†…æ ¸é«˜çº§å—…æ¢
;------------------------------------------------
sniffer:
  enable: true
  sniff:
    TLS: {ports: [443, 8443]}
    HTTP: {ports: [80, 8080-8888], override-destination: true}
  force-domain: ["+"]

; 2. åè®®å°é”
;------------------------------------------------
rules:
  - AND,((DEST-PORT,443),(PROTOCOL,UDP)),REJECT
  - AND,((DEST-PORT,4430),(PROTOCOL,UDP)),REJECT

; 3. DNS é˜¿é‡Œé—­ç¯
;------------------------------------------------
dns_server=223.5.5.5, 223.6.6.6
dns_fallback_server=https://dns.google/dns-query, https://1.1.1.1/dns-query
dns_fake_ip=true
dns_enhanced_mode=fake-ip
dns_nameserver_policy={
  "geosite:cn,alibaba,dingtalk,xiaomi": ["223.5.5.5", "223.6.6.6"],
  "geosite:gfw,geolocation-!cn": ["proxy"]
}

; 4. è§„åˆ™é›†å¼•ç”¨
;------------------------------------------------
ruleset=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
ruleset=ğŸƒ åº”ç”¨å‡€åŒ–,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
ruleset=ğŸš« å°ç±³ç³»ç»Ÿé™åˆ¶,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Xiaomi.list
ruleset=ğŸ“¢ è°·æ­ŒFCM,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleFCM/GoogleFCM.yaml
ruleset=ğŸ§š AIåŠ©æ‰‹,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml
ruleset=ğŸ“¹ YouTube,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
ruleset=ğŸ¥ Netflix,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml
ruleset=ğŸ¥ DisneyPlus,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml
ruleset=ğŸ¶ TikTok,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml
ruleset=ğŸ“º Bilibili,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml
ruleset=ğŸ“º å·´å“ˆå§†ç‰¹,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.yaml
ruleset=ğŸ¬ å›½é™…å½±éŸ³,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.yaml
ruleset=ğŸ“² Telegram,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
ruleset=ğŸ¤– Discord,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Discord/Discord.yaml
ruleset=ğŸµ Spotify,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml
ruleset=â˜ï¸ ç½‘æ˜“äº‘éŸ³ä¹,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/NetEaseMusic/NetEaseMusic.yaml
ruleset=ğŸ® æ¸¸æˆå¹³å°,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.yaml
ruleset=ğŸ è‹¹æœæœåŠ¡,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml
ruleset=â“‚ï¸ å¾®è½¯æœåŠ¡,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
ruleset=ğŸ“¢ è°·æ­ŒæœåŠ¡,clash-classic:https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
ruleset=ğŸš© IPå½’å±åœ°,clash-classic:https://raw.githubusercontent.com/lwd-temp/anti-ip-attribution/main/generated/rule-provider.yaml
ruleset=ğŸš€ å›½å¤–æµé‡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
ruleset=ğŸ¯ å›½å†…æµé‡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
ruleset=ğŸ¯ å›½å†…æµé‡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaIp.list
ruleset=ğŸŸ æ¼ç½‘ä¹‹é±¼,[]FINAL

; 5. ç­–ç•¥ç»„æ„å»º (æ·±åº¦åµŒå¥—é€»è¾‘)
;------------------------------------------------

; ã€UI ç¬¬ä¸€å±‚ï¼šæµé‡æ€»é—¸å£ã€‘
; å›½å†…æµé‡ï¼šä¸‹é’»åˆ° -> [å›½å†…å…æµ] åˆ†ç»„
custom_proxy_group=ğŸ¯ å›½å†…æµé‡`select`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]DIRECT

; å›½å¤–æµé‡ï¼šä¸‹é’»åˆ° -> [å›½å¤–å…æµ] åˆ†ç»„ (è¿™é‡Œæ˜¯æ€»å…¥å£)
custom_proxy_group=ğŸš€ å›½å¤–æµé‡`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ”¯ æ•…éšœåˆ‡æ¢`[]â™»ï¸ è‡ªåŠ¨æµ‹é€Ÿ

; ã€UI ç¬¬äºŒå±‚ï¼šå…æµèµ„æºç›®å½• (æ ¸å¿ƒå˜åŒ–)ã€‘
; å˜åŒ–ç‚¹ï¼šè¿™é‡Œä¸å†ç›´æ¥åˆ—å‡ºèŠ‚ç‚¹ï¼Œè€Œæ˜¯åˆ—å‡ºâ€œåˆ†ç±»æ–‡ä»¶å¤¹â€

; [å›½å¤–å…æµç›®å½•] -> åŒ…å«ï¼šå…¨è‡ªåŠ¨ / æ‰‹åŠ¨æ±  / å„å›½æµ‹é€Ÿ
custom_proxy_group=ğŸš€ å›½å¤–å…æµ`select`[]â™»ï¸ è‡ªåŠ¨æµ‹é€Ÿ`[]ğŸš€ å›½å¤–æ‰‹åŠ¨`[]ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾è‡ªåŠ¨`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨`[]ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨`[]ğŸ‡°ğŸ‡· éŸ©å›½è‡ªåŠ¨

; [å›½å†…å…æµç›®å½•] -> åŒ…å«ï¼šè‡ªåŠ¨ / æ‰‹åŠ¨
custom_proxy_group=ğŸš€ å›½å†…å…æµ`select`[]â™»ï¸ å›½å†…è‡ªåŠ¨`[]ğŸš€ å›½å†…æ‰‹åŠ¨

; ã€UI ç¬¬ä¸‰å±‚ï¼šæœ€é«˜æƒé™æ§åˆ¶ (å¤‡ç”¨)ã€‘
custom_proxy_group=ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`select`.*
custom_proxy_group=ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`select`.*

; ã€UI ç¬¬å››å±‚ï¼šé«˜é¢‘å¨±ä¹åª’ä½“ã€‘
custom_proxy_group=ğŸ“¹ YouTube`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾è‡ªåŠ¨`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¥ Netflix`select`[]ğŸ¥ å¥ˆé£èŠ‚ç‚¹`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¥ DisneyPlus`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¶ TikTok`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ“º Bilibili`select`[]DIRECT`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾è‡ªåŠ¨
custom_proxy_group=ğŸ“º å·´å“ˆå§†ç‰¹`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾è‡ªåŠ¨`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¬ å›½é™…å½±éŸ³`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ”¯ æ•…éšœåˆ‡æ¢`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸµ Spotify`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=â˜ï¸ ç½‘æ˜“äº‘éŸ³ä¹`select`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]DIRECT

; ã€UI ç¬¬äº”å±‚ï¼šç¤¾äº¤ä¸æ™ºèƒ½åŠ©æ‰‹ã€‘
custom_proxy_group=ğŸ“² Telegram`select`[]ğŸš€ å›½å¤–å…æµ`[]â™»ï¸ è‡ªåŠ¨æµ‹é€Ÿ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ¤– Discord`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ§š AIåŠ©æ‰‹`select`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨`[]ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2

; ã€UI ç¬¬å…­å±‚ï¼šç³»ç»Ÿã€æ¸¸æˆä¸æ¨é€ã€‘
custom_proxy_group=ğŸ“¢ è°·æ­ŒFCM`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸ”¯ æ•…éšœåˆ‡æ¢
custom_proxy_group=ğŸ“¢ è°·æ­ŒæœåŠ¡`select`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2
custom_proxy_group=ğŸ è‹¹æœæœåŠ¡`select`[]ğŸš€ å›½å†…å…æµ`[]DIRECT`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾è‡ªåŠ¨`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨
custom_proxy_group=â“‚ï¸ å¾®è½¯æœåŠ¡`select`[]ğŸš€ å›½å†…å…æµ`[]DIRECT`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨
custom_proxy_group=ğŸ® æ¸¸æˆå¹³å°`select`[]DIRECT`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨`[]ğŸ‡¹ğŸ‡¼ å°æ¹¾è‡ªåŠ¨`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨
custom_proxy_group=ğŸš« å°ç±³ç³»ç»Ÿé™åˆ¶`select`[]ğŸš€ å›½å†…å…æµ`[]REJECT

; ã€UI ç¬¬ä¸ƒå±‚ï¼šIPä¸åº•å±‚å·¥å…·ã€‘
custom_proxy_group=ğŸš© IPå½’å±åœ°`select`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ å›½å¤–å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]DIRECT
custom_proxy_group=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª`select`[]REJECT`[]DIRECT`[]ğŸš€ å›½å†…å…æµ
custom_proxy_group=ğŸƒ åº”ç”¨å‡€åŒ–`select`[]REJECT`[]DIRECT`[]ğŸš€ å›½å†…å…æµ
custom_proxy_group=ğŸŸ æ¼ç½‘ä¹‹é±¼`select`[]ğŸš€ å›½å†…å…æµ`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©1`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©2`[]DIRECT

; ã€åº•å±‚ï¼šå®ä½“èŠ‚ç‚¹æ±  (The Real Pools)ã€‘
; è¿™é‡Œçš„"æ‰‹åŠ¨"ç»„æ‰æ˜¯çœŸæ­£æŠ“å–å‡ ç™¾ä¸ªèŠ‚ç‚¹çš„åœ°æ–¹
custom_proxy_group=ğŸš€ å›½å¤–æ‰‹åŠ¨`select`(é¦™æ¸¯|æ—¥æœ¬|ç¾å›½|æ–°åŠ å¡|å°æ¹¾|HK|JP|US|SG|TW)
custom_proxy_group=ğŸš€ å›½å†…æ‰‹åŠ¨`select`(ä¸­å›½|CN|ç§»åŠ¨|è”é€š|ç”µä¿¡|é’‰é’‰|å…æµ|ML|Ding)

; ã€åº•å±‚ï¼šè‡ªåŠ¨æµ‹é€Ÿç»„ (é‡å‘½åä»¥åŒ¹é…ç›®å½•ç»“æ„)ã€‘
custom_proxy_group=â™»ï¸ å›½å†…è‡ªåŠ¨`url-test`(ä¸­å›½|CN|ç§»åŠ¨|è”é€š|ç”µä¿¡|é’‰é’‰|å…æµ|ML|Ding)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨`url-test`(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong Kong)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡¹ğŸ‡¼ å°æ¹¾è‡ªåŠ¨`url-test`(ğŸ‡¹ğŸ‡¼|å°|TW|Taiwan)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨`url-test`(ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|JP|Japan)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨`url-test`(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|SG|Singapore)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨`url-test`(ğŸ‡ºğŸ‡¸|ç¾|US|United States)`http://www.gstatic.com/generate_204`600,100,true
custom_proxy_group=ğŸ‡°ğŸ‡· éŸ©å›½è‡ªåŠ¨`url-test`(ğŸ‡°ğŸ‡·|éŸ©å›½|KR|Korea|South Korea)`http://www.gstatic.com/generate_204`600,100,true

; å…œåº•ä¸å…¨å±€
custom_proxy_group=ğŸ¥ å¥ˆé£èŠ‚ç‚¹`select`[]ğŸš€ å›½å¤–æ‰‹åŠ¨`(æ–°åŠ å¡|å°æ¹¾|é¦™æ¸¯|ç¾å›½|SG|TW|HK|US)
custom_proxy_group=â™»ï¸ è‡ªåŠ¨æµ‹é€Ÿ`url-test`(^(?!.*(æµé‡|æ—¶é—´|å®˜ç½‘|æç¤º)).*)`http://www.gstatic.com/generate_204`600,150,true
custom_proxy_group=ğŸ”¯ æ•…éšœåˆ‡æ¢`fallback`(^(?!.*(æµé‡|æ—¶é—´|å®˜ç½‘|æç¤º)).*)`http://www.gstatic.com/generate_204`600,,true

enable_rule_generator=true
overwrite_original_rules=true